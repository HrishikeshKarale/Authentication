{"remainingRequest":"D:\\Website desing\\authentication\\node_modules\\babel-loader\\lib\\index.js!D:\\Website desing\\authentication\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\Website desing\\authentication\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Website desing\\Authentication\\src\\router\\index.ts","dependencies":[{"path":"D:\\Website desing\\Authentication\\src\\router\\index.ts","mtime":1606852710162},{"path":"D:\\Website desing\\authentication\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Website desing\\authentication\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Website desing\\authentication\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\Website desing\\authentication\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBIZWxsb1dvcmxkIGZyb20gIkAvY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZSI7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBjb21wb25lbnQ6IEhlbGxvV29ybGQKfSwgewogIHBhdGg6ICIvbG9naW4iLAogIG5hbWU6ICJsb2dpbiIsCiAgLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoCiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiTG9naW4iICovCiAgICAiQC9jb21wb25lbnRzL0xvZ2luLnZ1ZSIpOwogIH0sCiAgbWV0YTogewogICAgZ3Vlc3Q6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL3JlZ2lzdGVyIiwKICBuYW1lOiAicmVnaXN0ZXIiLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogIlJlZ2lzdGVyIiAqLwogICAgIkAvY29tcG9uZW50cy9SZWdpc3Rlci52dWUiKTsKICB9LAogIG1ldGE6IHsKICAgIGd1ZXN0OiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogIi9kYXNoYm9hcmQiLAogIG5hbWU6ICJ1c2VyYm9hcmQiLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogIlVzZXJCb2FyZCIgKi8KICAgICJAL2NvbXBvbmVudHMvVXNlckJvYXJkLnZ1ZSIpOwogIH0sCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogIi9hZG1pbiIsCiAgbmFtZTogImFkbWluIiwKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJBZG1pbiIgKi8KICAgICJAL2NvbXBvbmVudHMvQWRtaW4udnVlIik7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICBpc0FkbWluOiB0cnVlCiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBdXRoOwogIH0pKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpID09IG51bGwpIHsKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBuZXh0VXJsOiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSB8fCAne30nKTsKCiAgICAgIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIHJldHVybiByZWNvcmQubWV0YS5pc0FkbWluOwogICAgICB9KSkgewogICAgICAgIGlmICh1c2VyLmlzQWRtaW4gPT0gMSkgewogICAgICAgICAgbmV4dCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgbmFtZTogJ3VzZXJib2FyZCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEuZ3Vlc3Q7CiAgfSkpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykgPT0gbnVsbCkgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAndXNlcmJvYXJkJwogICAgICB9KTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:\\Website desing\\authentication\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Website desing\\Authentication\\src\\router\\index.ts"],"names":[],"mappings":";;AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,SAAP,MAAuC,YAAvC;AACA,OAAO,UAAP,MAAuB,6BAAvB;AAEA,GAAG,CAAC,GAAJ,CAAQ,SAAR;AAEA,IAAM,MAAM,GAAuB,CACjC;AACE,EAAA,IAAI,EAAE,GADR;AAEE,EAAA,IAAI,EAAE,YAFR;AAGE,EAAA,SAAS,EAAE;AAHb,CADiC,EAMjC;AACE,EAAA,IAAI,EAAE,QADR;AAEE,EAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACA,EAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAgC,4BAAvC,CADS;AAAA,GANb;AAQE,EAAA,IAAI,EAAE;AACJ,IAAA,KAAK,EAAE;AADH;AARR,CANiC,EAkBjC;AACE,EAAA,IAAI,EAAE,WADR;AAEE,EAAA,IAAI,EAAE,UAFR;AAGE;AACA;AACA;AACA,EAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAmC,+BAA1C,CADS;AAAA,GANb;AAQE,EAAA,IAAI,EAAE;AACJ,IAAA,KAAK,EAAE;AADH;AARR,CAlBiC,EA8BjC;AACE,EAAA,IAAI,EAAE,YADR;AAEE,EAAA,IAAI,EAAE,WAFR;AAGE;AACA;AACA;AACA,EAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAoC,gCAA3C,CADS;AAAA,GANb;AAQE,EAAA,IAAI,EAAE;AACJ,IAAA,YAAY,EAAE;AADV;AARR,CA9BiC,EA0CjC;AACE,EAAA,IAAI,EAAE,QADR;AAEE,EAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACA,EAAA,SAAS,EAAE;AAAA,WACT;AAAO;AAAgC,4BAAvC,CADS;AAAA,GANb;AAQE,EAAA,IAAI,EAAE;AACJ,IAAA,YAAY,EAAE,IADV;AAEJ,IAAA,OAAO,EAAE;AAFL;AARR,CA1CiC,CAAnC;AAyDA,IAAM,MAAM,GAAG,IAAI,SAAJ,CAAc;AAC3B,EAAA,IAAI,EAAE,SADqB;AAE3B,EAAA,IAAI,EAAE,OAAO,CAAC,GAAR,CAAY,QAFS;AAG3B,EAAA,MAAM,EAAN;AAH2B,CAAd,CAAf;AAMA,MAAM,CAAC,UAAP,CAAkB,UAAC,EAAD,EAAK,IAAL,EAAW,IAAX,EAAmB;AACnC,MAAI,EAAE,CAAC,OAAH,CAAW,IAAX,CAAgB,UAAA,MAAM;AAAA,WAAI,MAAM,CAAC,IAAP,CAAY,YAAhB;AAAA,GAAtB,CAAJ,EAAyD;AACvD,QAAI,YAAY,CAAC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAyC;AACvC,MAAA,IAAI,CAAC;AACH,QAAA,IAAI,EAAE,QADH;AAEH,QAAA,MAAM,EAAE;AAAE,UAAA,OAAO,EAAE,EAAE,CAAC;AAAd;AAFL,OAAD,CAAJ;AAID,KALD,MAKO;AACL,UAAM,IAAI,GAAG,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,MAArB,KAAgC,IAA3C,CAAb;;AACA,UAAI,EAAE,CAAC,OAAH,CAAW,IAAX,CAAgB,UAAA,MAAM;AAAA,eAAI,MAAM,CAAC,IAAP,CAAY,OAAhB;AAAA,OAAtB,CAAJ,EAAoD;AAClD,YAAI,IAAI,CAAC,OAAL,IAAgB,CAApB,EAAuB;AACrB,UAAA,IAAI;AACL,SAFD,MAGK;AACH,UAAA,IAAI,CAAC;AAAE,YAAA,IAAI,EAAE;AAAR,WAAD,CAAJ;AACD;AACF,OAPD,MAOO;AACL,QAAA,IAAI;AACL;AACF;AACF,GAnBD,MAmBO,IAAI,EAAE,CAAC,OAAH,CAAW,IAAX,CAAgB,UAAA,MAAM;AAAA,WAAI,MAAM,CAAC,IAAP,CAAY,KAAhB;AAAA,GAAtB,CAAJ,EAAkD;AACvD,QAAI,YAAY,CAAC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAyC;AACvC,MAAA,IAAI;AACL,KAFD,MAGK;AACH,MAAA,IAAI,CAAC;AAAE,QAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD;AACF,GAPM,MAOA;AACL,IAAA,IAAI;AACL;AACF,CA9BD;AAgCA,eAAe,MAAf","sourcesContent":["import Vue from \"vue\";\nimport VueRouter, { RouteConfig } from \"vue-router\";\nimport HelloWorld from \"@/components/HelloWorld.vue\";\n\nVue.use(VueRouter);\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: \"/\",\n    name: \"HelloWorld\",\n    component: HelloWorld\n  },\n  {\n    path: \"/login\",\n    name: \"login\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"Login\" */ \"@/components/Login.vue\"),\n    meta: {\n      guest: true\n    }\n  },\n  {\n    path: \"/register\",\n    name: \"register\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"Register\" */ \"@/components/Register.vue\"),\n    meta: {\n      guest: true\n    }\n  },\n  {\n    path: \"/dashboard\",\n    name: \"userboard\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"UserBoard\" */ \"@/components/UserBoard.vue\"),\n    meta: {\n      requiresAuth: true\n    }\n  },\n  {\n    path: \"/admin\",\n    name: \"admin\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"Admin\" */ \"@/components/Admin.vue\"),\n    meta: {\n      requiresAuth: true,\n      isAdmin: true\n    }\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (localStorage.getItem('jwt') == null) {\n      next({\n        path: '/login',\n        params: { nextUrl: to.fullPath }\n      })\n    } else {\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      if (to.matched.some(record => record.meta.isAdmin)) {\n        if (user.isAdmin == 1) {\n          next()\n        }\n        else {\n          next({ name: 'userboard' })\n        }\n      } else {\n        next()\n      }\n    }\n  } else if (to.matched.some(record => record.meta.guest)) {\n    if (localStorage.getItem('jwt') == null) {\n      next()\n    }\n    else {\n      next({ name: 'userboard' })\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router;\n"],"sourceRoot":""}]}